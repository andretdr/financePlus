{% extends "layout.html" %}

{% block title %}
    Index Page
{% endblock %}

{% block body %}

    <section class="index-body">
        <input type="hidden" id="datadump" name="datadump" value="{{ data }}">

        <div class="index-body__heading">
            <h2>My Holdings</h2>
        </div>

        <div class="index-body__holdings" id="index-body__grid-insert">

<!--
            {% for item in data %}
                {% if item.symb is defined %}
                    {% set symb = item.symb %}
                    {% set hrefstr = "/viewstock?q="+symb %}
                    <div><a href={{ hrefstr }} >{{ item }}</a></div>
                {% endif %}


            {% endfor %}

-->
        </div>

    </section>

    <script>

        let controller = new indexController();
        let view = new indexView(controller);
        view.refreshHoldingsPage();

        setInterval(()=>{
            controller.updateRawData();
            view.refreshHoldingsPage();
            }, 3000);

        

       
    </script>



{% endblock %}